# 유연한 인터페이스 만들기

- 객체 지향 애플리케이션을 클래스의 총합으로 이해해 버리려는 유혹에 빠지면 안됨.
- 애플리케이션은 클래스로 구성되어 있지만 메시지를 통해 정의.
- 객체가 무엇을 아는지(객체의 책임)와 누구를 알고 있는지(객체의 의존성) 뿐만 아니라, 어떻게 소통하는지 알아야 함.

> 객체 사이의 소통은 인터페이스를 통해 이루어짐.

## 인터페이스 이해하기

- 메세지들이 눈에 띄는 패턴을 보여주지 않고, 모든 객체가 다른 모든 객체에게 아무 메세지나 전송하는 경우, 해당 애플리케이션의 객체는 재사용하기 어려움.
- 메세지들이 정확하게 드러나는 패턴을 보여주고, 명확하게 잘 정의된 방식으로 소통하는 경우, 조립 가능하게(`plugable`) 구성되어 자기 자신을 최소한으로 드러내며, 다른 객체에 대해 가능한 한 조금만 알고 있음.

> 첫 번째 경우의 디자인 이슈는 각 클래스가 무엇을 하는지에 아는 것이 아니라, 무엇을 드러내는지에 있음.

> 밖으로 노출된 메서드를 클래스의 퍼블릭 인터페이스(`public interface`)라 함.

### 인터페이스

1. 클래스 안에 있는 인터페이스.

   - 클레스는 메서드를 구현하고, 그중 일부는 클래스 외부 객체가 사용하기 위함.
   - 이 메서드들이 클래스의 퍼블릭 인터페이스 구현.

2. 하나의 클래스로부터 독립되어 있고 여러 클래스 사이를 돌아다니는 종류의 인터페이스.

   - 메세지의 묶음으로 표현.
   - 메세지들 자체가 인터페이스를 정의.
   - 전체의 한 부분인 각 클래스는 이런 인터페이스가 요구하는 메서드들을 구현.
     > 이는 마치 인터페이스가 가상의(`virtual`) 클래스를 정의하고 있는 것.  
     > 인터페이스가 요구하는 메서드를 구현하고 있다면, 어떤 클래스든 인터페이스 같은 것처럼 동작.

---

## 인터페이스 정의하기

- 퍼블릭 메서드: 어떤 메서드는 우리 클래스의 메뉴판 같은 역할.
- 프라이빗 메서드: 자잘한 내부 구현에 관여.

### 퍼블릭 인터페이스

> 클래스의 퍼블릭 인터페이스를 구성하는 메서드는 바깥 세상을 향한 클래스의 얼굴.

- 클래스의 핵심 책임(`primary responsibility`)을 드러냄.
- 다른 객체에 의해 호출 가능.
- 쉽게 변경 불가.
- 다른 객체가 안정적으로 의존 가능.
- 테스트를 통해 꼼꼼하게 문서화.

### 프라이빗 인터페이스

> 퍼블릭 메서드 외의 메서드는 프라이빗 인터페이스의 한 부분.

- 세부적인 구현 담당.
- 다른 객체에 의해 호출되지 않음.
- 필요에 따라 언제든 변경.
- 다른 객체가 의존하기 위험.
- 테스트에서 다루지 않음.

### 책임, 의존성 그리고 인터페이스

- 책임

  > 단일 책임 원칙을 따르는 클래스의 퍼블릭 인터페이스는 클래스의 책임을 명시해주는 계약서.

- 의존성

  > 클래스를 퍼블릭한 부분과 프라이빗한 부분으로 구분하면 자신보다 덜 변화하는 것에 의존해야 한다는 생각은 클래스 내부에도 적용.

- 인터페이스

  - 퍼블릭한 부분은 안정적인 부분.
  - 프라이빗한 부분은 변경될 수 있는 부분.
  - 이 클래스 사용자에게 어떤 메서드에 의존하는 것이 보다 안정적인지 알려주는 것.

  > 하나의 클래스가 다른 클래스의 퍼블릭 메서드를 사용하고 있다면 이 메서드가 안정적이기를 기대.  
  > 프라이빗 메서드를 사용하기로 마음 먹었다면 본질적으로 불안정한 것에 의존.

---

## 퍼블릭 인터페이스 찾아내기

---

## 자신의 인터페이스를 드러내는 코드 작성하기
